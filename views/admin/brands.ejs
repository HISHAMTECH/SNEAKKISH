<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Brands</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <style>
      .pagination-container {
        text-align: center;
        margin-top: 20px;
      }

      .pagination {
        display: inline-block;
        list-style: none;
        padding-left: 0;
      }

      .pagination a,
      .pagination .current-page {
        display: inline-block;
        padding: 8px 15px;
        margin: 0 4px;
        border: 1px solid #ddd;
        text-decoration: none;
        color: #333;
        border-radius: 5px;
      }

      .pagination a:hover {
        background-color: #f5f5f5;
      }

      .error-message {
        color: red;
      }

      .toggle-sidebar {
        display: block;
        position: fixed;
        top: 15px;
        left: 15px;
        background: #007bff;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 5px;
      }

      /* Sidebar */
      .sidebar {
        width: 250px;
        background: #343a40;
        color: white;
        height: 100vh;
        padding: 20px;
        position: fixed;
        transition: all 0.3s;
      }

      .sidebar nav {
        display: flex;
        flex-direction: column;
      }

      .sidebar .nav-item {
        color: white;
        text-decoration: none;
        padding: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: 0.3s;
      }

      .sidebar .nav-item:hover,
      .sidebar .nav-item.active {
        background: #007bff;
        border-radius: 5px;
      }

      /* Main Content */
      .content-main {
  margin-left: 250px; /* Changed from 260px */
  padding: 20px;
}

      .content-header {
        margin-bottom: 20px;
      }

      .content-title {
        font-size: 24px;
        font-weight: bold;
      }

      .card {
        margin-bottom: 20px;
      }

      .card-body {
        padding: 20px;
      }

      .form-control {
        border-radius: 5px;
      }

      .input-upload {
        margin-top: 10px;
      }

      .table-responsive {
        margin-top: 30px;
      }

      .table th, .table td {
        vertical-align: middle;
      }

      .table td img {
        width: 40px;
        height: 40px;
        object-fit: cover;
      }

      .badge {
        padding: 5px 10px;
        font-size: 0.9rem;
      }

      .pagination-container {
  display: flex; /* Added */
  justify-content: center; /* Added */
  margin-top: 20px;
}
    
    </style>
</head>
<body>

  <!-- Sidebar Toggle Button -->
  <button class="toggle-sidebar d-lg-none">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Sidebar -->
  <div class="sidebar">
    <nav>
        <a href="/admin/" class="nav-item" data-page="Dashboard">
            <i class="fas fa-chart-line"></i> Dashboard
        </a>
        <a href="/admin/products" class="nav-item" data-page="Products">
            <i class="fas fa-box"></i> Products
        </a>
        <a href="/admin/addProducts" class="nav-item" data-page="Add Products">
            <i class="fas fa-box"></i> Add Products
        </a>
        <a href="#" class="nav-item" data-page="Orders">
            <i class="fas fa-shopping-cart"></i> Orders
        </a>
        <a href="/admin/users" class="nav-item" data-page="Customers">
            <i class="fas fa-users"></i> Customers
        </a>
        <a href="#" class="nav-item" data-page="Reviews">
            <i class="fas fa-star"></i> Reviews
        </a>
        <a href="#" class="nav-item" data-page="Offers">
            <i class="fas fa-gift"></i> Offers
        </a>
        <a href="#" class="nav-item" data-page="Coupon Management">
            <i class="fas fa-ticket-alt"></i> Coupon Management
        </a>
        <a href="#" class="nav-item" data-page="Banner Management">
            <i class="fas fa-image"></i> Banner Management
        </a>
        <a href="/admin/category" class="nav-item active" data-page="Categories">
            <i class="fas fa-list"></i> Categories
        </a>
    </nav>
  </div>

  <!-- Main Content -->
  <div class="content-main">
    <!-- Header -->
    <header class="navbar navbar-expand-lg navbar-light bg-light shadow-sm p-3">
        <div class="container-fluid">
            <a class="navbar-brand fw-bold" href="/admin">Admin Panel</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/admin/dashboard">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/brands">Brands</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/logout">Logout</a>
                    </li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Content -->
    <section class="content-main">
      <div class="content-header">
        <h2 class="content-title card-title">Manage Brands</h2>
      </div>
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-md-3">
              <form method="post" action="/admin/addBrand" enctype="multipart/form-data" >
                <div class="mb-4">
                  <label class="form-label">Brand Name</label>
                  <input type="text" name="name" placeholder="Type here" class="form-control" />
                </div>
                <label class="form-label">Brand Image</label>
                <div class="input-upload">
                  <input class="form-control border" name="image" type="file" />
                </div>
                <div class="d-grid">
                  <button class="btn btn-primary mt-3" type="submit">Add Brand</button>
                </div>
              </form>
            </div>

            <div class="col-md-7 offset-md-1">
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>Brand</th>
                      <th>Logo</th>
                      <th>Status</th>
                      <th>Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    <%data.reverse().forEach((brand,index)=>{%>
                    <tr>
                      <td class="text-start" style="color: black;"><%=brand.BrandName%></td>
                      <td class="text-start">
                        <div class="d-flex align-items-center justify-content-center" 
                        style="width: 40px; 
                        height: 40px; 
                        border-radius: 50%; 
                        overflow: hidden;">

                          <img src="/uploads/re-image/<%= brand.BrandImage[0]%>" 
                          alt="<%=brand.brandName%>"
                          style="width: 40px; height: 40px;">
                        </div>
                      </td>
                      <td class="text-start">
                        <%if(brand.isBlocked===true){%>
                        <span class="badge rounded-pill alert-danger" style="color: black;">Blocked</span>
                        <%}else{%>
                        <span class="badge rounded-pill alert-success" style="color: black;">Active</span>
                        <%}%>
                      </td>
                      <td class="text-start">
                        <%if(brand.isBlocked===false){%>
                        <button class="btn btn-danger btn-sm" style="width: 90px;;">
                          <a href="/admin/blockBrand?id=<%=brand._id%>" class="text-white" >Block</a>
                        </button>
                        <%}else{%>
                        <button class="btn btn-success btn-sm" style="width: 90px;">
                          <a href="/admin/unBlockBrand?id=<%=brand._id%>" class="text-white" >Unblock</a>
                          </button>
                          <%}%>

                        <button class="btn btn-danger btn-sm" 
                        style="width: 90px;"
                        onclick="return confirmDelete()">
                        <a href="/admin/deleteBrand?id=<%=brand._id%>" class="text-white" >Delete</a>
                      </button>


                      </td>
                    </tr>
                    <%})%>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Pagination -->
      <div class="pagination-container">
        <ul class="pagination">
          <li><a href="#">«</a></li>
          <li><a href="#">1</a></li>
          <li class="current-page"><a href="#">2</a></li>
          <li><a href="#">3</a></li>
          <li><a href="#">»</a></li>
        </ul>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light text-center py-3 mt-5 border-top">
        <div class="container">
            <p class="mb-0">&copy; 2025 Admin Panel. All Rights Reserved.</p>
        </div>
    </footer>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function confirmDelete(){
      return confirm("Are You Sure You Want To Delete This Brand ?")
    }






  </script>

</body>
</html>
